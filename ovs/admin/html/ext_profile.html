<html>
	<!-- $Id: ext_profile.html,v 1.1 2011/10/04 12:41:14 xbourgui Exp $ -->
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=##TP_CHARSET##">
		<link rel="stylesheet" type="text/css" href="##TP_CGI_URL##?action=stylesheet">
		<title>OpenBet Administration</title>
		<script language=javascript>
			function fs(b,t)
			{
				b.form.action.value = t;
				b.form.submit();
				return true;
			}
			function fs_chk(b,t,c)
			{
				b.form.chk_id.value = c;
				return fs(b,t);
			}
			function wr_tr(status) {
				if (status == "A") {
					document.write('<tr class=active>');
				} else if (status == "S") {
					document.write('<tr class=suspended>');
				} else {
					document.write('<tr>');
				}
			}
		</script>
	</head>

	<body>

##TP_PLAY error_rpt.html##

		<form method="post" action="##TP_CGI_URL##">
		<input type="hidden" name="action" value="">
		<input type="hidden" name="prov_id" value="##TP_prov_id##">
		<input type="hidden" name="prfl_id" value="##TP_prfl_id##">
		<table cellspacing="0" cellpadding="4" border="0">
			<tr>
				<th colspan="4" class="title">Verification External Profile</th>
			</tr>
			<tr>
				<th>Provider</th>
				<td><a href="##TP_CGI_URL##?action=ADMIN::VERIFICATION::PROVIDER::GoProvider&prov_id=##TP_prov_id##">##TP_prov_name##</a></td>
			</tr>
			<tr>
				<th>Profile</th>
				<td><input type="text" name="description" value="##TP_prfl_name##" size="70" maxlength="255"></td>
			</tr>
			<tr>
				<th>External Profile Id</th>
				<td><input type="text" name="prov_prf_id" value="##TP_prfl_ext_id##" size="32" maxlength="50"></td>
			</tr>
			<tr>
				<th>Status</th>
				<td>
					<select name="status">
						<option value="A" ##TP_IF {[tpGetVar prfl_status] == "A"}##selected##TP_ENDIF##>Active</option>
						<option value="S" ##TP_IF {[tpGetVar prfl_status] == "S"}##selected##TP_ENDIF##>Suspended</option>
					</select>
				</td>
			</tr>
			<tr>
				<th colspan="4" class="buttons">
	##TP_IF {[tpGetVar prfl_id] == ""}##
					<input type="button" value="Add Profile" onclick="return fs(this, 'ADMIN::VERIFICATION::PROVIDER::DoAddProfile');">
	##TP_ELSE##
					<input type="button" value="Update Profile" onclick="return fs(this, 'ADMIN::VERIFICATION::PROVIDER::DoUpdProfile');">
	##TP_ENDIF##
					<input type="button" value="Back" onclick="return fs(this, 'ADMIN::VERIFICATION::PROVIDER::GoProvider');">
				</th>
			</tr>
		</table>
		</form>
	##TP_IF {[tpGetVar prfl_id] != ""}##
		<br>
		<br>

		<form method="post" action="##TP_CGI_URL##">
		<input type="hidden" name="action" value="">
		<input type="hidden" name="prov_id" value="##TP_prov_id##">
		<input type="hidden" name="prfl_id" value="##TP_prfl_id##">
		<input type="hidden" name="chk_id" value="">
		<table cellspacing="0" cellpadding="4" border="0">
			<tr>
				<th colspan="4" class="title">External Check Mappings</th>
			</tr>
			<tr>
				<th class="colhead">Check</th>
				<th class="colhead">Status</th>
				<th class="colhead"></th>
			</tr>
		##TP_IF {[tpBindGet num_ext_checks] > 0}##
			##TP_LOOP chk_idx {[tpBindGet num_ext_checks]}##
			<script>wr_tr("##TP_chk_status##")</script>
				<td>##TP_chk_name##</td>
				<td>
					<select name="status_##TP_chk_id##">
						<option value="A" ##TP_IF {[tpBindGet chk_status] == "A"}##selected##TP_ENDIF##>Active</option>
						<option value="S" ##TP_IF {[tpBindGet chk_status] == "S"}##selected##TP_ENDIF##>Suspended</option>
					</select>
				</td>
				<td>
					<input type="button" value="Remove Check" onclick="return fs_chk(this, 'ADMIN::VERIFICATION::PROVIDER::DoDelCheck', '##TP_chk_id##');">
				</td>
			</tr>
			##TP_ENDLOOP##
		##TP_ELSE##
			<tr>
				<td colspan="4">No External Checks found!</td>
			</tr>
		##TP_ENDIF##
			<tr>
				<th colspan="4" class="buttons">
					<select name="chk_type">
		##TP_LOOP chk_type_idx {[tpGetVar num_chk_types]}##
						<option value="##TP_chk_type##">##TP_chk_type_name##</option>
		##TP_ENDLOOP##
					</select>
					<input type="button" value="Add Check" onclick="return fs(this, 'ADMIN::VERIFICATION::PROVIDER::DoAddCheck');">
					<input type="button" value="Update Checks" onclick="return fs(this, 'ADMIN::VERIFICATION::PROVIDER::DoUpdateChecks');">
				</th>
			</tr>
		</table>
		</form>
	##TP_ENDIF##
	</body>
</html>
