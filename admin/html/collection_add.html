<html>
<!-- $Id: collection_add.html,v 1.1.1.1 2011/10/04 10:54:26 xbourgui Exp $ -->
<head>
<link rel="stylesheet" type="text/css" href="##TP_CGI_URL##?action=stylesheet">
<title>Add Collection</title>
<script language="JavaScript">

// Accepts digits only
var regex_disporder = /^[0-9]*$/;


function check_valid (b,t)
{	
	if ( b.form.name.value == "" || (b.form.disporder.value == "") ) {
		alert ("Please enter missing data")
		return false;
	} else if ( !regex_disporder.test(b.form.disporder.value)) {
		alert ("Please enter a valid display order value")
	} else {
		b.form.expanded.value = b.form.expanded.checked;
		return fs(b,t)
	}
}

function fs(b,t)
{
	b.disabled = true;
	b.value = "Busy...";
	b.form.SubmitName.value=t;
	b.form.submit();
	return true;
}
</script>
</head>

<body>

##TP_PLAY error_rpt.html##
##TP_PLAY msg_rpt.html##

<form method="get" action="##TP_CGI_URL##" name="collectionFm">
	<input type="hidden" name="action" value="ADMIN::COLLECTION::GoCollection" />
	<input type="hidden" name="SubmitName" value="" />

<table cellspacing="0" cellpadding="2" border="0">

	<tr>
		<th colspan="4" class="title">
			Add Collection
		</th>
	</tr>

##TP_IF {[tpGetVar NumSports 0]}##

	<tr>
		<td class="caption">Sport:</td>

		<td >
			<select name="SelectedSportId" >
		
				##TP_LOOP sport_idx {[tpGetVar NumSports]}##
	
					##TP_IF {[tpGetVar SelectedIdx] == [tpGetVar sport_idx] } ##
						<option value="##TP_sportId##" selected="selected">##TP_sportName##</option>
					##TP_ELSE##
						<option value="##TP_sportId##">##TP_sportName##</option>
					##TP_ENDIF##
	
				##TP_ENDLOOP##
				
			</select>
		</td>

		<td >Disp Order:</td>
		<td>
		<input type="text" name="disporder" value="" maxlength="5" size=5 />
		</td>
	</tr>
	<tr>
		<td class="caption">Name:</td>
		<td colspan="1">
			<input  type="text" name="name" value="" maxlength="50" size=30 />		
		</td>
	</tr>

	<tr>
		<td class="caption">Expanded?:</td>
		<td >
			<input  name="expanded" type="checkbox" value = ""  >	
		</td>
		<td ><b>Set display order to 0 to make this a primary collection</b></td>

<!--		<td >Primary collection for sport?:</td>
		<td >
			<input  name="primary" type="checkbox" value = ""  >	
		</td>
	</tr>
-->

	<tr>
		<th class="buttons" colspan=1>
			<input type="button" value="Add" onClick="return check_valid(this,'DoAdd')" />
		</th>
		<th class="buttons" colspan=3>
			
			<input type="button" value="Cancel" onClick="return fs(this,'Back')" />
		</th>
	</tr>
##TP_ELSE##
<tr>
	<td colspan=4>
	<b><i>There are no event sports defined</i></b>
	</td>
</tr>
##TP_ENDIF##

</table>
</form>

</body>
</html>
