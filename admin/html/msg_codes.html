<html>
	<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<script language="javascript">

		function scroll_to_code(code_id, auto_show) {
			if (code_id != null && code_id !="") {
				document.location.hash = code_id;
			}
		  if (auto_show == 1)
		  {
		     parent.go_val(code_id,'en');
		  }

		}

		function select_group(group_name) {

			if (group_name != null) {
				group = group_name;
			} else {
				var group = document.forms.msg_codes.group.value;
			}

			if (group != "" && group != "ALL") {
				var group_select = parent.document.forms.msg_sel.group;
				for (var i = 0; i < group_select.options.length; i++) {
					if (group_select.options[i].text == group) {
						group_select.selectedIndex = i;
						parent.document.forms.msg_sel.add_group.selectedIndex = i;
						parent.add_group_changed();
						return;
					}
				}
				// add new group to parent
				group_select.options[i] = new Option(group, group);
				parent.document.forms.msg_sel.to_group.options[i] = new Option(group, group);
				parent.document.forms.msg_sel.add_group.options[i] = new Option(group, group);
				parent.groups_enc[i] = document.forms.msg_codes.group_enc.value;
				group_select.selectedIndex = i;
				parent.document.forms.msg_sel.add_group.selectedIndex = i;
				parent.add_group_changed();
			}
		}

		function go_delete() {
			document.forms.msg_codes.action.value="ADMIN::MSG::delete_codes";
			document.forms.msg_codes.submit();
		}

		function go_move(group_enc) {
			document.forms.msg_codes.action.value="ADMIN::MSG::move_codes";
			document.forms.msg_codes.to_group.value=group_enc;
			document.forms.msg_codes.submit();
		}

	</script>
	</head>
	<body bgcolor="white" onLoad='select_group(); scroll_to_code("##TP_scroll_to_code_id##","##TP_auto_show_code##")'>
		<form name="msg_codes" method=get action=##TP_CGI_URL##>
		<input type="hidden" name="action" value="">
		<input type="hidden" name="code" value="">
		<input type="hidden" name="group" value="##TP_group##">
		<input type="hidden" name="group_enc" value="##TP_group_enc##">
		<input type="hidden" name="to_group" value="">

		##TP_PLAY error_rpt.html##

		<table width="100%">
			##TP_LOOP code_idx {[tpGetVar num_codes]}##
			<tr>
				<td><a name="##TP_code_id##">##TP_code##</a></td>
				##TP_LOOP lang_idx {[tpGetVar num_langs]}##
				<td>
					<a href="javascript:parent.go_val(##TP_code_id##,'##TP_lang##')">
					##TP_IF {[info exists LANG_AVAIL($CODES([tpGetVar code_idx],code_id),$LANGS([tpGetVar lang_idx],lang))] == 0}##
					<font color="red">
					##TP_ELSE##
					<font color="green">
					##TP_ENDIF##
					##TP_lang##</font></a>
				</td>
				##TP_ENDLOOP##
				<td><input type="checkbox" name="code_id" value="##TP_code_id##"></td>
			</tr>
			##TP_ENDLOOP##
		</table>
		</form>
	</body>
</html>
