<html>
<!-- $Id: control_channel.html,v 1.1.1.1 2011/10/04 10:54:26 xbourgui Exp $ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=##TP_CHARSET##" />
<link rel="stylesheet" type="text/css" href="##TP_CGI_URL##?action=stylesheet" />
<title>Control Information</title>
<script>
function fs(b,t)
{
	if (validate(b.form)) {
		b.disabled = true;
		b.value = "Busy...";
		b.form.SubmitName.value=t;
		b.form.submit();
		return true;
	} else {
		return false;
	}
}

function validate(form) {
	return true;
}

function goControl() {
    document.location = "?action=ADMIN::CONTROL::GoControl"
}
</script>

<style>
tr.channel_0 {
    background-color: darkslateblue;
    color: white;
}
tr.channel_1 {
    background-color: lightslategray;
    color: white;
}
</style>

</head>
<body>
    ##TP_PLAY error_rpt.html##
    <table border="0" cellspacing="0" cellpadding="3">
    <form action="##TP_CGI_URL##" method="post">
    <input type="hidden" name="action" value="ADMIN::CONTROL::DoControlChannel" />
    <input type="hidden" name="SubmitName" value="" />
    <tr>
      <th colspan="3" class="title">
      Control Per Channel
      </th>
    </tr>
    
    ##TP_LOOP ctrl_idx {[tpGetVar NumChannels]}##
		##TP_TCL {tpBindString class [expr {[tpGetVar ctrl_idx] % 2}]}##

    	<input type="hidden" name="channels" value="##TP_ctrl_channel_id##" />
    
        <tr class="channel_##TP_class##">
            <td>##TP_ctrl_desc##</td>
            <td>Auto-referral Betting</td>
			<td>
				<select name="##TP_ctrl_channel_id##_async_bet">
					<option value="Y" 
						##TP_IF {[tpBindGet ctrl_async_betting] == "Y"}## 
							selected="selected" 
						##TP_ENDIF##>
						Yes
					</option>
					<option value="N" 
						##TP_IF {[tpBindGet ctrl_async_betting] != "Y"}## 
							selected="selected" 
						##TP_ENDIF##>
						No
					</option>
				</select>
			</td>
        </tr>
        <tr class="channel_##TP_class##">
            <td>##TP_ctrl_desc##</td>
            <td>Auto-referral Bet In Running</td>
			<td>
				<select name="##TP_ctrl_channel_id##_bir_async_bet">
					<option value="Y" 
						##TP_IF {[tpBindGet ctrl_bir_async_bet] == "Y"}## 
							selected="selected" 
						##TP_ENDIF##>
						Yes
					</option>
					<option value="N" 
						##TP_IF {[tpBindGet ctrl_bir_async_bet] != "Y"}## 
							selected="selected" 
						##TP_ENDIF##>
						No
					</option>
				</select>
			</td>
        </tr>
        <tr class="channel_##TP_class##">
            <td>##TP_ctrl_desc##</td>
            <td>Auto-referral Betting Timeout</td>
			<td><input type="text" name="##TP_ctrl_channel_id##_async_timeout"
                       value="##TP_ctrl_async_timeout##" /></td>
        </tr>
        <tr class="channel_##TP_class##">
            <td>##TP_ctrl_desc##</td>
            <td>Auto-referral Offer Timeout (In Running)</td>
			<td><input type="text" name="##TP_ctrl_channel_id##_async_off_ir_timeout"
                       value="##TP_ctrl_async_off_ir_timeout##" /></td>
        </tr>
        <tr class="channel_##TP_class##">
            <td>##TP_ctrl_desc##</td>
            <td>Auto-referral Offer Timeout (Pre Match)</td>
			<td><input type="text" name="##TP_ctrl_channel_id##_async_off_pre_timeout"
                       value="##TP_ctrl_async_off_pre_timeout##" /></td>
        </tr>
        <tr class="channel_##TP_class##">
            <td>##TP_ctrl_desc##</td>
            <td>Auto-referral stake rule 1</td>
			<td><input type="text" name="##TP_ctrl_channel_id##_async_rule_stk1"
                       value="##TP_ctrl_async_rule_stk1##" /></td>
        </tr>
        <tr class="channel_##TP_class##">
            <td>##TP_ctrl_desc##</td>
            <td>Auto-referral stake rule 2</td>
			<td><input type="text" name="##TP_ctrl_channel_id##_async_rule_stk2"
                       value="##TP_ctrl_async_rule_stk2##" /></td>
        </tr>
        <tr class="channel_##TP_class##">
            <td>##TP_ctrl_desc##</td>
            <td>Auto-referral liability rule</td>
			<td><input type="text" name="##TP_ctrl_channel_id##_async_rule_liab"
                       value="##TP_ctrl_async_rule_liab##" /></td>
        </tr>
        <tr class="channel_##TP_class##">
            <td>##TP_ctrl_desc##</td>
            <td>Auto-referral max payout</td>
			<td><input type="text" name="##TP_ctrl_channel_id##_async_max_payout"
                       value="##TP_ctrl_async_max_payout##" /></td>
        </tr>
        <tr class="channel_##TP_class##">
            <td>##TP_ctrl_desc##</td>
            <td>Auto-referral auto place</td>
			<td>
				<select name="##TP_ctrl_channel_id##_async_auto_place">
					<option value="Y" 
						##TP_IF {[tpBindGet ctrl_async_auto_place] == "Y"}## 
							selected="selected" 
						##TP_ENDIF##>
						Yes
					</option>
					<option value="N" 
						##TP_IF {[tpBindGet ctrl_async_auto_place] != "Y"}## 
							selected="selected" 
						##TP_ENDIF##>
						No
					</option>
				</select>
			</td>
        </tr>
    ##TP_ENDLOOP##
    
    <tr>
        <td colspan="3" class="buttons">
            <input type="button" onClick="fs(this,'UpdateControls');"
                   value="Update" />
            <input type="button" onClick="goControl();"
                   value="Back" />
            <input type="hidden" name="AuditInfo" value="ControlChannel" />
			<input type="button" value="View Audit History" 
					onClick="return fs(this,'GoAudit')">
        </td>
    </tr>
    
    </table>
</body>
</html>
