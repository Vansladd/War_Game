<!-- $Id: menu_item_list.html,v 1.1.1.1 2011/10/04 10:54:25 xbourgui Exp $ -->

<script>

function delete_menu_items(b) {

	numMenuDelBoxes = b.form.delMenuBoxes.length ;
	delMenuBoxList = "" ;

	if (!numMenuDelBoxes ) {
		// We only have 1 entry, the delBoxes.length check picks up nothing
		// so access the one field manually
		if ( b.form.delMenuBoxes.checked ) {
			delMenuBoxList = delMenuBoxList + b.form.delMenuBoxes.value ;
		}
	} else {
		// deal with multiple check boxes
		for (i = 0; i < numMenuDelBoxes; i++) {
			if ( b.form.delMenuBoxes[i].checked ) {
				delMenuBoxList = delMenuBoxList + b.form.delMenuBoxes[i].value + "," ;
			}
		}
	}

	if ( delMenuBoxList == "" ) {
		alert ("There are no menu items to delete.") ;
	} else {
		action = "ADMIN::SPORT::DelSportMenuItem&delMenuBoxList=" + delMenuBoxList ;

		url = "##TP_CGI_URL##?action=" + action
		document.location.href = url
	}
}

</script>


<form action="##TP_CGI_URL##" method="get">

<table border="0" cellspacing="0" cellpadding="3" bgcolor="#10137c">
<input type="hidden" name="SubmitName" value="">
<input type="hidden" name="action" value="ADMIN::SPORT::GoSportMenuItem">
<input type="hidden" name="sport_lang" value=""/>
<tr>
	<th class="title" colspan="4">
	Sport Menu Item
	</th>
</tr>
##TP_IF {[tpGetVar NumMenuItems 0]}##
<tr>
	<th class="colhead">Name</A></th>
	<th class="colhead">Sport</th>

	##TP_IF {[OT_CfgGet FUNC_MENU_SPORTS 0] && [op_allowed ManageSport]}##
		<th class="colhead">Select to Delete</th>
	##TP_ENDIF##
</tr>

##TP_LOOP menu_item_idx {[tpGetVar NumMenuItems]}##
	<tr>
		<td><a href="##TP_CGI_URL##?action=ADMIN::SPORT::GoSportMenuItem&menuItemId=##TP_menuItemId##">##TP_menuDesc##</A></td>
		<td> ##TP_menuSportName##</td>

		##TP_IF {[OT_CfgGet FUNC_MENU_SPORTS 0] && [op_allowed ManageSport]}##
			<td align="right"> <input name="delMenuBoxes" type="checkbox" value="##TP_menuItemId##"  > </td>
		##TP_ENDIF##

	</tr>
##TP_ENDLOOP##

##TP_IF {[OT_CfgGet FUNC_MENU_SPORTS 0] && [op_allowed ManageSport]}##
	<tr>
		##TP_IF {[tpGetVar NumSports 0] > 0}##
			<th class="buttons" colspan="2">
				<input type="button" class="btn_def" value="Delete" onClick="delete_menu_items(this)">
			</th>
		##TP_ENDIF##
		<th class="buttons" colspan="6">
			<input type="button" class="btn_def" value="Add" onClick="return fs(this,'GotoAdd')">
		</th>
	</tr>
##TP_ENDIF##

##TP_ELSE##
<tr>
	<td colspan="3">
	<b><i>There are no menu items defined</i></b>
	</td>
</tr>

	##TP_IF {[OT_CfgGet FUNC_MENU_SPORTS 0] && [op_allowed ManageSport]}##
	<tr>
		<th class="buttons" colspan="6">
			<input type="button" class="btn_def" value="Add" onClick="return fs(this,'GotoAdd')">
		</th>
	</tr>
	##TP_ENDIF##

##TP_ENDIF##
</form>