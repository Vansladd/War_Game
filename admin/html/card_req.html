<html>
<!-- $Id: card_req.html,v 1.1.1.1 2011/10/04 10:54:26 xbourgui Exp $ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=##TP_CHARSET##">
<link rel="stylesheet" type="text/css" href="##TP_CGI_URL##?action=stylesheet">
<title>Card Requirements</title>
##TP_PLAY JS_WriteSelect.html##
<script language=JavaScript>
function validate(f)
{
	return true;
}
function fs(b,t)
{
	b.disabled = true;
	b.value = "Busy...";
	b.form.SubmitName.value=t;
	b.form.submit();
	return true;
}
function checkFlag_onChange() {

	var checkFlag   = document.getElementById('CardReqCheckFlag');
	var firstDepPol = document.getElementById('CardReqFirstDepPol');

	if(!checkFlag || !firstDepPol) {
		return;
	}

	var checkFlagVal = checkFlag.options[checkFlag.selectedIndex].value;

	firstDepPol.disabled = checkFlagVal != 'F';
}
</script>
</head>
<body onload="checkFlag_onChange()">
##TP_PLAY msg_rpt.html##
##TP_PLAY error_rpt.html##
<table border=0 cellspacing=0 cellpadding=3>
<tr>
	<th colspan=2 class=title>
	Card Requirements
	</td>
</tr>
<form action="##TP_CGI_URL##" method=get onSubmit="return validate(this);">
<input type="hidden" name="bin_lo" value="##TP_CardReqBinLo##">
<input type="hidden" name="bin_hi" value="##TP_CardReqBinHi##">
<tr>
	<td class=caption>Range</td>
	<td>
	<input type=text name="CardReqBinLo" value="##TP_CardReqBinLo##" size=6>
	&nbsp;
	<input type=text name="CardReqBinHi" value="##TP_CardReqBinHi##" size=6>
	</td>
</tr>
<tr>
	<td class=caption>Scheme</td>
	<td>
	<select name="CardReqScheme">
			##TP_LOOP scheme_idx {[tpGetVar NumSchemes]}##
				<option value="##TP_Scheme##" ##TP_SchemeSel##>##TP_SchemeName##</option>
			##TP_ENDLOOP##
		</select>
	</td>
</tr>
<tr>
	<td class=caption>Num Digits</td>
	<td>
	<input type=text name="CardReqDigits" value="##TP_CardReqDigits##" size=3>
	</td>
</tr>
<tr>
	<td class=caption>Issue Number Length</td>
	<td>
	<input type=text name="CardReqIssue" value="##TP_CardReqIssue##" size=3>
	</td>
</tr>
<tr>
	<td class=caption>CVV2 Length</td>
	<td>
	<input type=text name="CardReqCVV2Length" value="##TP_CardReqCVV2Length##" size=3>
	</td>
</tr>
<tr>
	<td class=caption>Check Policy</td>
	<td>
	<select name="CardReqCheckFlag" id="CardReqCheckFlag" onChange="checkFlag_onChange()">
	<script>
	write_select("##TP_CardReqCheckFlag##",
		"F","On First Deposit",
		"N","Never",
		"A","Always Use Default Gateway Policy",
		"0","Datacash Policy: Accept all transactions",
		"1","Datacash Policy: Address must be checked and matched",
		"2","Datacash Policy: Security Code must be checked and matched",
		"3","Datacash Policy: All data must be checked and matched",
		"5","Datacash Policy: Address must match if checked",
		"6","Datacash Policy: Security Code must match if checked",
		"7","Datacash Policy: All data must match if checked"
	);
	</script>
	</select>
	</td>
</tr>
<tr>
	<td class=caption>First Deposit Policy</td>
	<td>
	<select name="CardReqFirstDepPol" id="CardReqFirstDepPol">
	<script>
	write_select("##TP_CardReqFirstDepPol##",
		"0","Datacash Policy: Accept all transactions",
		"1","Datacash Policy: Address must be checked and matched",
		"2","Datacash Policy: Security Code must be checked and matched",
		"3","Datacash Policy: All data must be checked and matched",
		"5","Datacash Policy: Address must match if checked",
		"6","Datacash Policy: Security Code must match if checked",
		"7","Datacash Policy: All data must match if checked"
	);
	</script>
	</select>
	</td>
</tr>
##TP_IF {[OT_CfgGet 3DSECURE_RESUBMIT_POLICY_CODES 0]}##
<tr>
	<td class=caption>3d Secure Policy</td>
	<td>
	<select name="CardReq3dSecurePol" id="CardReq3dSecurePol">
	<script>
	write_select("##TP_CardReq3dSecurePol##",
		"0","Resubmit without 3d secure when applicable",
		"1","Mandatory 3d secure, never resubmit",
		"2","Never allow 3d secure, never resubmit"
	);
	</script>
	</select>
	</td>
</tr>
##TP_ELSE##
<input type="hidden" name="CardReq3dSecurePol" value="0">
##TP_ENDIF##
<tr>
	<td class=caption>Channels</td>
	<td>
		##TP_PLAY chan_sel.html##
	</td>
</tr>
<tr>
	<td class=caption>Start Date ?</td>
	<td>
	<select name="CardReqStart">
	<script>
	write_select("##TP_CardReqStart##","Y","Yes","N","No");
	</script>
	</select>
	</td>
</tr>
<tr>
	<td class=caption>Card Expiry Date</td>
	<td>
	<select name="CardReqExpiry">
	<script>
	write_select("##TP_CardReqExpiry##","Y","Yes","N","No");
	</script>
	</select>
	</td>
</tr>
<tr>
	<th colspan=2 class=buttons>
	##TP_IF {[tpGetVar AddNew] == 0}##
	<input type=button class="btn_def" value="Modify This Entry" onClick="return fs(this,'CardReqMod')">
	<input type=button class="btn_def" value="Delete This Entry" onClick="return fs(this,'CardReqDel')">
	<input type=button class="btn_def" value="View Audit History" onClick="return fs(this, 'GoAudit')">
	##TP_ELSE##
	<input type=button class="btn_def" value="Add New Entry" onClick="return fs(this,'CardReqIns')">
	##TP_ENDIF##
	<input type=button class="btn_def" value="Back" onClick="return fs(this,'Back')">
	</th>
</tr>
<input type=hidden name=SubmitName value="">
<input type=hidden name=action value="ADMIN::CARD::DoCardReq">
<input type=hidden name=AuditInfo value="CardScheme">
</form>
</table>
</body>
</html>
