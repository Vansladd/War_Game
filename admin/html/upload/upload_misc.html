<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- $Id: upload_misc.html,v 1.1.1.1 2011/10/04 10:54:26 xbourgui Exp $ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=##TP_CHARSET##" />
<link rel="stylesheet" type="text/css" href="##TP_CGI_URL##?action=stylesheet">
<title>Uploaded Files</title>
<script>
function fs(b,t)
{
	b.disabled = true;
	b.value = "Busy...";
	b.form.SubmitName.value=t;
	b.form.submit();
	return true;
}
##TP_PLAY upload/JS_CheckFileName.html##
</script>
</head>
<body>
##TP_PLAY error_rpt.html##
<table style="border:none; padding:none">
<tr>
	<th colspan="5" class="title">
	Uploaded Files
	</th>
</tr>
<tr>
	<th class="colhead">Type</th>
	<th class="colhead">Time</th>
	<th class="colhead">Filename</th>
	<th class="colhead">Edit</th>
	<th class="colhead">Delete Uploaded File</th>
</tr>
##TP_LOOP file_idx {[tpGetVar NumFiles]}##
<tr>
	<td>##TP_FileType##</td>
	<td>##TP_FileTime##</td>
	<td><a href="##TP_CGI_URL##?action=ADMIN::UPLOAD::GoUploadFile&FileType=##TP_FileType##&FullName=##TP_FileKey##&upload_type=##TP_upload_type##">##TP_FileName##</a></td>
	<td>
		##TP_IF {$FILE([tpGetVar file_idx],is_reject)}##
			<a HREF="##TP_CGI_URL##?action=ADMIN::UPLOAD::GoUploadFile&FileType=##TP_FileType##&FullName=##TP_FileKey##&upload_type=##TP_upload_type##&edit=1">Edit</a>
		##TP_ENDIF##
	</td>
	<td valign="top" style="text-align:center;"><a href="##TP_CGI_URL##?action=ADMIN::UPLOAD::DoUploadFile&SubmitName=FileDel&FileType=##TP_FileType##&FullName=##TP_FileKey##&upload_type=##TP_upload_type##">[delete]</a></td>
</tr>
##TP_ENDLOOP##
</table>
##TP_IF {[tpGetVar UPLOADED 0]==1}##
<div style="color:green; font-size:larger;">
The file has been successfully uploaded and is now ready to be processed.
</div>
##TP_ENDIF##
<br />
<form method="post" action="##TP_CGI_URL##" enctype="multipart/form-data" onsubmit="return checkFileName(this.filename.value);">
<input type="hidden" name="returl" value="##TP_CGI_URL##" />
<input type="hidden" name="retaction" value="ADMIN::UPLOAD::GoUpload" />
<input type="hidden" name="upload_type" value="##TP_upload_type##" />
<input type="hidden" name="action" value="ADMIN::UPLOAD::DoUpload">

<table style="border:none; padding:1px;">
<tr>
	<th colspan="2" class="title">
		Select file to upload
	</th>
</tr>
<tr>
	<td class="caption">File type</td>
	<td>
		<select name="filetype">
			<option value="man_bets">Manual Bets</option>
			##TP_IF {[OT_CfgGet FUNC_SINGLE_CUSTOMER_GROUP 1]}##
			<option value="segments">Segments</option>
			##TP_ENDIF##
			##TP_IF {[OT_CfgGet FUNC_CUSTGRP_UPLOAD 0]}##
			<option value="custgroups">Customer Groups</option>
			##TP_ENDIF##
			<option value="cust_notices">Customer Notices</option>
			<option value="custmsgs">Customer Messages</option>
			##TP_IF {[OT_CfgGet FUNC_EXT_UPLOAD 0] && [op_allowed ExtIdFunc]}##<option value="ext_ids">External IDs</option>##TP_ENDIF##
			##TP_IF {[OT_CfgGet FUNC_EXCLUSION_FLAGS 0] && [op_allowed PerSystemExcl]}##<option value="exclusions">Exclusions</option>##TP_ENDIF##
			##TP_IF {[OT_CfgGet FUNC_STMT_RECORD_UPLOAD 0] && [op_allowed StmtRecordUpload]}##<option value="stmt_record">Statement Records</option>##TP_ENDIF##
		</select>
	</td>
</tr>
<tr>
	<td class="caption">
		Filename
	</td>
	<td>
		<input type="file" name="filename" size="40" />
	</td>
</tr>
<tr>
	<th colspan="2" class="buttons">
		<input type="submit" class="btn_def" name="DoIt" value="Upload File" />
	</th>
</tr>
</table>

</form>

<b>Notes</b><br /><br />
Segment files to be uploaded must be in <a href="#CSV">CSV</a> format.
The first line of each file must contain the appropriate column names for the file. The types of file are as follows:
<br /><br />

<table style="spacing:1px; border:none padding:1px;">
<tr>
	<th colspan="5" class="title">
	File Formats
	</th>
</tr>
##TP_IF {[OT_CfgGet FUNC_SINGLE_CUSTOMER_GROUP 1]}##
<tr>
	<th class="colhead">Manual Bets</th>
</tr>
<tr>
	<td valign="top" style="text-align:left;">
		<ol>
			<li>ACCOUNT NUMBER</li>
			<li>DESCRIPTION</li>
			<li>CATEGORY</li>
			<li>CLASS</li>
			<li>TYPE</li>			
			<li>CHANNEL</li>
			<li>STAKE</li>
			<li>PAY NOW</li>
			<li>SETTLE AT</li>
			<li>TAX TYPE</li>
			<li>TAX RATE</li>
			<li>TAX</li>
			<li>RESULT</li>
			<li>WINNINGS</li>
			<li>REFUNDS</li>
			<li>SETTLEMENT COMMENT</li>
			<li>ACTUAL DATE PLACED</li>
			<li>REP CODE</li>
			<li>COURSE TYPE</li>
		</ol>
	</td>
</tr>
<tr>
	<th class="colhead">Segments</th>
</tr>
<tr>
	<td valign="top" style="text-align:left;">
		<ol>
			<li>CUSTOMER ID</li>
			<li>GROUP NAME (name of the segment group e.g SBOOK)</li>
			<li>GROUP VALUE (must be one of PR,GO,SI,GR,RE for Premier,Gold,Silver,Green,Red respectively)</li>
		</ol>
	</td>
</tr>
##TP_ENDIF##
##TP_IF {[OT_CfgGet FUNC_CUSTGRP_UPLOAD 0]}##
<tr>
	<th class="colhead">Customer Groups</th>
</tr>
<tr>
	<td valign="top" align="left">
		<ol>
			<li>CUST_ID</li>
			<li>GROUP</li>
			<li>VALUE</li>
		</ol>
	</td>
</tr>
##TP_ENDIF##
<tr>
	<th class="colhead">Customer Notices</th>
</tr>
<tr>
	<td valign="top" style="text-align:left;">
		<ol>
			<li>CUST_ID</li>
			<li>ACCT_ID</li>
			<li>MESSAGE CODE</li>
			<li>FROM DATE</li>
			<li>TO DATE</li>
		</ol>
	</td>
</tr>
<tr>
	<th class=colhead>Customer Messages</th>
</tr>
<tr>
	<td valign=top align=left>
		<ol>
			<li>ACCOUNT ID</li>
			<li>CUSTOMER ID</li>
			<li>TYPE (must be in C_ustomer services O_perator S_upervisor H_ospitality M_arketing)</li>
			<li>MESSAGE (250 chars max)</li>
		</ol>
	</td>
</tr>

##TP_IF {[OT_CfgGet FUNC_EXT_UPLOAD 0] && [op_allowed ExtIdFunc]}##
<tr>
    <th class=colhead>External Ids</th>
</tr>
<tr>
    <td valign=top align=left>
        <ol>
        <li>USERNAME</li>
        <li>GROUP_CODE</li>
        <li>EXTERNAL_ID</li>
        <li>MASTER</li>
        </ol>
    </td>
</tr>
##TP_ENDIF##
##TP_IF {[OT_CfgGet FUNC_EXCLUSION_FLAGS 0] && [op_allowed PerSystemExcl]}##
<tr>
    <th class=colhead>Exclusion Flags</th>
</tr>
<tr>
    <td valign=top align=left>
        <ol>
        <li>ACCOUNT ID</li>
        <li>TYPE (C for Channel, S for System)</li>
        <li>SYSTEM</li>
        <li>CHANNEL</li>
        </ol>
    </td>
</tr>
##TP_ENDIF##
##TP_IF {[OT_CfgGet FUNC_STMT_RECORD_UPLOAD 0] && [op_allowed StmtRecordUpload]}##
<tr>
	<th class=colhead>Statement Records</th>
</tr>
<tr>
<td valign=top align=left>
<ol>
<li>ACCOUNT NUMBER</li>
<li>DATE FROM (YYYY-MM-DD HH:MM:SS)</li>
<li>DATE TO (YYYY-MM-DD HH:MM:SS)</li>
<li>PRODUCT FILTER (ALL for "All transactions", SPO for "Fixed Odds and Pools Bets", PMT for "Payments", LOT for "Lotteries", CAS for "Casino", EVO for "Evolution", BNG for "Bingo", SKI for "Skill", VEG for "Vegas", GAM for "Games", POK for "Poker"</li>
</ol>
</td>
</tr>
##TP_ENDIF##
</table>
<br /><br />
<a name="CSV"><b>CSV Files</b></a><br />
<p>A CSV file is a comma-separated file. Fields which themselves contain commas need to be enclosed in double quotes.</p>

</body>
</html>
