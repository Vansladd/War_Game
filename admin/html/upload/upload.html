<html>
<!-- $Id: upload.html,v 1.1.1.1 2011/10/04 10:54:26 xbourgui Exp $ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=##TP_CHARSET##">
<link rel="stylesheet" type="text/css" href="##TP_CGI_URL##?action=stylesheet">
<title>Uploaded Files</title>
<script>
function fs(b,t)
{
	b.disabled = true;
	b.value = "Busy...";
	b.form.SubmitName.value=t;
	b.form.submit();
	return true;
}
##TP_PLAY upload/JS_CheckFileName.html##
</script>
</head>
<body>
##TP_PLAY error_rpt.html##
<table border=0 cellspacing=0 cellpadding=3>
<tr>
	<th colspan=5 class=title>
	Uploaded Files
	</th>
</tr>
<tr>
	<th class=colhead>Type</th>
	<th class=colhead>Time</th>
	<th class=colhead>Filename</th>
	<th class=colhead>Edit</th>
	<th class=colhead>Delete Uploaded File</th>
</tr>
##TP_LOOP file_idx {[tpGetVar NumFiles]}##
<tr>
	<td>##TP_FileType##</td>
	<td>##TP_FileTime##</td>
	<td><a HREF="##TP_CGI_URL##?action=ADMIN::UPLOAD::GoUploadFile&FileType=##TP_FileType##&FullName=##TP_FileKey##&upload_type=##TP_upload_type##">##TP_FileName##</a></td>
	<td>
		##TP_IF {$FILE([tpGetVar file_idx],is_reject)}##
			<a HREF="##TP_CGI_URL##?action=ADMIN::UPLOAD::GoUploadFile&FileType=##TP_FileType##&FullName=##TP_FileKey##&upload_type=##TP_upload_type##&edit=1">Edit</a>
		##TP_ENDIF##
	</td>
	<td valign=top align=center><a HREF="##TP_CGI_URL##?action=ADMIN::UPLOAD::DoUploadFile&SubmitName=FileDel&FileType=##TP_FileType##&FullName=##TP_FileKey##&upload_type=##TP_upload_type##">[delete]</a></td>
</tr>
##TP_ENDLOOP##
</table>
##TP_IF {[tpGetVar UPLOADED 0]==1}##
<font color=green>
<font size=+1>
The file has been successfully uploaded and is now ready to be processed.
</font>
</font>
##TP_ENDIF##
<br>
<form method=post action="##TP_CGI_URL##" enctype="multipart/form-data" onsubmit="return checkFileName(this.filename.value);">
<input type="hidden" name="returl" value="##TP_CGI_URL##">
<input type="hidden" name="retaction" value="ADMIN::UPLOAD::GoUpload">
<input type="hidden" name="upload_type" value="##TP_upload_type##">
<input type="hidden" name="action" value="ADMIN::UPLOAD::DoUpload">
<table border=0 cellspacing=0 cellpadding=1>
<tr>
	<th colspan=2 class=title>
	Select file to upload
	</th>
</tr>
<tr>
	<td class=caption>File type</td>
	<td>
		<select name="filetype">
		<option value="events">Events</option>
		<option value="markets">Markets</option>
		<option value="selections">Selections</option>
		<option value="results">Results</option>
                <option value="fbscores">Football Scores</option>
		##TP_IF {[OT_CfgGet FUNC_XGAME_FILES 0]}##
		<option value="xgame">Pools/Lottery settlement</option>
		##TP_ENDIF##
		##TP_IF {[OT_CfgGet OPENBET_CUST ""] == "BlueSQ"}##
		<option value="pools">Football Pools</option>
		##TP_ENDIF##
		##TP_IF {[OT_CfgGet ENABLE_OC_VARIANTS 0] == "1"}##
		<option value="variant">Selections Variants</option>
		##TP_ENDIF##
		</select>
	</td>
</tr>
<tr>
	<td class=caption>Filename</td>
	<td>
	<input type="file" name="filename" size=40>
	</td>
</tr>
<tr>
	<th colspan=2 class=buttons>
	<input type="submit" class="btn_def" name="DoIt" value="Upload File">
	</th>
</tr>
</table>
</form>
<b>Notes</b><br>
Event, Market, Selection##TP_IF {[OT_CfgGet OPENBET_CUST ""] == "BlueSQ"}##, Result and Football Pools##TP_ELSE## and Result##TP_ENDIF## files to be uploaded must be in <a href="#CSV">CSV</a> format.
The first line of each file must contain the appropriate column names for the file. The types of file are as follows:</br>
<table cellspacing=1 border=0 cellpadding=1>
<tr>
	<th colspan=6 class=title>
	File Formats
	</th>
</tr>
<tr>
	<th class=colhead>Events</th>
	<th class=colhead>Markets</th>
	<th class=colhead>Selections</th>
	<th class=colhead>Results</th>
	<th class=colhead>Football Scores</th>
	##TP_IF {[OT_CfgGet OPENBET_CUST ""] == "BlueSQ"}##
	<th class=colhead>Football Pools</th>
	##TP_ENDIF##
	##TP_IF {[OT_CfgGet ENABLE_OC_VARIANTS 0] == "1"}##
	<th class=colhead>Selection Variants</th>
	##TP_ENDIF##
</tr>
<tr>
<td valign=top align=left>
<ol>
<li>CATEGORY</li>
<li>CLASS</li>
<li>TYPE</li>
<li>NAME</li>
<li>DATE/TIME</li>
<li>COUNTRY</li>
<li>VENUE</li>
<li>SORT</li>
<li>STATUS</li>
<li>DISPLAYED</li>
<li>DISPORDER</li>
<li>SUSPEND AT</li>
<li>URL</li>
<li>TAX RATE</li>
<li>MIN BET</li>
<li>MAX BET</li>
<li>FB DOM/INT</li>
<li>EXT KEY</li>
<li>MULT KEY</li>
<li>CLASS SORT</li>
<li>HOME TEAM</li>
<li>AWAY TEAM</li>
<li>CHANNELS</li>
</ol>
</td>
<td valign=top align=left>
<ol>
<li>CATEGORY</li>
<li>CLASS</li>
<li>TYPE</li>
<li>NAME</li>
<li>DATE/TIME</li>
<li>MARKET</li>
<li>MARKET NAME</li>
<li>STATUS</li>
<li>DISPLAYED</li>
<li>DISPORDER</li>
<li>TAX RATE</li>
<li>LIVE PRICE</li>
<li>STARTING PRICE</li>
<li>GUARANTEED PRICE</li>
<li>FORECAST</li>
<li>TRICAST</li>
<li>EACH-WAY</li>
<li>PLACE</li>
<li>NUM PLACES</li>
<li>PLACE FRACTION</li>
<li>TERMS WITH BET</li>
<li>ACC MIN</li>
<li>ACC MAX</li>
<li>HANDICAP</li>
<li>LIAB LIMIT</li>
<li>EXT KEY</li>
<li>CHANNELS</li>
<li>AP</li>
<li>BET_IN_RUN</li>
<li>MAX MULTIPLE BET</li>
<li>WIN LP</li>
<li>WIN SP</li>
<li>WIN EP</li>
<li>PLACE LP</li>
<li>PLACE SP</li>
<li>PLACE EP</li>
<li>LEAST MAX BET</li>
<li>MOST MAX BET</li>
<li>AUTO DH REDUCTIONS</li>
<li>HCAP PRECISION</li>
</ol>
</td>
<td  valign=top align=left>
<ol>
<li>CATEGORY</li>
<li>CLASS</li>
<li>TYPE</li>
<li>NAME</li>
<li>DATE/TIME</li>
<li>MARKET</li>
<li>SELECTION</li>
<li>STATUS</li>
<li>DISPLAYED</li>
<li>DISPORDER</li>
<li>MIN BET</li>
<li>MAX BET</li>
<li>MAX TOTAL</li>
<li>STK/LBT</li>
<li>LIVE PRICE</li>
<li>SP GUIDE</li>
<li>FB RESULT</li>
<li>EXT KEY</li>
<li>MULT KEY</li>
<li>CHANNELS</li>
<li>TEAM</li>
</ol>
</td>
<td  valign=top align=left>
<ol>
<li>CATEGORY</li>
<li>CLASS</li>
<li>TYPE</li>
<li>NAME</li>
<li>DATE/TIME</li>
<li>MARKET</li>
<li>SELECTION</li>
<li>RESULT</li>
<li>PLACE</li>
<li>STARTING PRICE</li>
<li>WIN DH REDUCTION</li>
<li>PLACE DH REDUCTION</li>
</ol>
</td>

<td  valign=top align=left>
<ol>
<li>CATEGORY</li>
<li>CLASS</li>
<li>TYPE</li>
<li>NAME</li>
<li>DATE/TIME</li>
<li>HALFTIME SCORE</li>
<li>FULLTIME SCORE</li>
</ol>
</td>



##TP_IF {[OT_CfgGet OPENBET_CUST ""] == "BlueSQ"}##
<td  valign=top align=left>
<ol>
<li>SORT</li>
<li>DATE/TIME</li>
<li>MATCH NUMBER</li>
<li>TEAM 1</li>
<li>TEAM 2</li>
</ol>
</td>
##TP_ENDIF##

##TP_IF {[OT_CfgGet ENABLE_OC_VARIANTS 0] == "1"}##
<td  valign=top align=left>
	<ol>
		<li>CATEGORY</li>
		<li>CLASS</li>
		<li>TYPE</li>
		<li>NAME</li>
		<li>DATE/TIME</li>
		<li>MARKET</li>
		<li>SELECTION</li>
		<li>STATUS</li>
		<li>DISPLAYED</li>
		<li>DISPORDER</li>
		<li>PRICE NUM</li>
		<li>PRICE DEN</li>
		<li>VALUE</li>
		<li>TYPE</li>
		<li>APPLY PRICE</li>
	</ol>
</td>
##TP_ENDIF##
</tr>
</table>
<br><br>
<a name="CSV"><b>CSV Files</b></a><br>
<p>A CSV file is a comma-separated file. Fields which themselves contain commas need to be enclosed in double quotes.<p>

##TP_IF {[OT_CfgGet FUNC_XGAME_FILES 0]}##
<p><b>Pools settlement files</b></p>
<p>Pools and lottery settlement files should be in the format agreed with Orbis.</p>
##TP_ENDIF##
</body>
</html>
