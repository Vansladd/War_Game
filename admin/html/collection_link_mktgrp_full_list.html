<html>
<!-- $Id: collection_link_mktgrp_full_list.html,v 1.1.1.1 2011/10/04 10:54:25 xbourgui Exp $ -->
<head>
<link rel="stylesheet" type="text/css" href="##TP_CGI_URL##?action=stylesheet">
<title>Link Market Group to Collection</title>
<script>

function check_valid (b)
{
	numSelBoxes = b.form.selBoxes.length ;
	grpLinksList = "" ;

	if (!numSelBoxes ) {
		// We only have 1 entry, the selBoxes.length check picks up nothing
		// so access the one field manually
		if ( b.form.selBoxes.checked ) {
			grpLinksList = grpLinksList + b.form.selBoxes.value ;
		}
	} else {
		// deal with multiple check boxes
		for (i = 0; i < numSelBoxes; i++) {
			if ( b.form.selBoxes[i].checked ) {
				grpLinksList = grpLinksList + b.form.selBoxes[i].value + "," ;
			}
		}
	}

	if ( grpLinksList == "" ) {
		alert ("There are no market groups selected to link to.") ;
	} else {
		b.form.submit();
		return true;
	}

}

function fs(b,t)
{
	b.disabled = true;
	b.value = "Busy...";
	b.form.SubmitName.value=t;
	b.form.submit();
	return true;
}

function back()
{
	action = "ADMIN::COLLECTION::GoCollection&SubmitName=GotoUpd&CollectionId=##TP_TCL {tpBufWrite [tpGetVar CollectionId]} ##" ;

	url = "##TP_CGI_URL##?action=" + action
	document.location.href = url
}
</script>
</head>

<body>

##TP_PLAY error_rpt.html##
##TP_PLAY msg_rpt.html##

<form method="get" action="##TP_CGI_URL##" name="collectionFm">
	<input type="hidden" name="action" value="ADMIN::COLLECTION::GoCollection" />
	<input type="hidden" name="SubmitName" value="" />

	##TP_PLAY collection_link_mktgrp_header.html##

</form>

<form method="get" action="##TP_CGI_URL##">
<input type="hidden" name="action" value="ADMIN::COLLECTION::GoCollection" />
<input type="hidden" name="SubmitName" value="AddMktGroupLinkByNames" />
<input type="hidden" name="CollectionId" value="##TP_TCL {tpBufWrite [tpGetVar CollectionId]}##" />
<input type="hidden" name="sportId" value="##TP_sportId##" />
<input type="hidden" name="sportObId" value="##TP_sportObId##" />
<input type="hidden" name="sportObLevel" value="##TP_sportObLevel##" />
<table>

	<tr>
		<td><b> Market Groups: </b></td>

			<td>
				##TP_sportName##
			</td>

	</tr>

	<tr>
		<td colspan=2>
			<input name="no_overwrite" type="checkbox" value = "true" id="c_no_overwrite" />
			<label for="c_no_overwrite">Only link unassigned market groups</label>
		</td>
	</tr>
	
	<tr>
		<td> &nbsp;&nbsp;</td>
		<td colspan="4">	
		</td>
	</tr>

	<tr>
		##TP_LOOP col_mkt_grp_link_idx {[tpGetVar NumEntries]}##

			<td >
				<input ##TP_isDisabled## name="selBoxes" type="checkbox" value = "##TP_objName##" id="c_##TP_objName##">
				<label for="c_##TP_objName##">##TP_objName##</label>
			</td>
	
			##TP_TCL {expr {[tpGetVar col_mkt_grp_link_idx] % 2 == 0 ? "" : "</tr>"}}##
		##TP_ENDLOOP##
	</tr>


	<tr>
		<td> &nbsp;&nbsp;</td>
		<td colspan="4">	
		</td>
	</tr>


	<tr >
		<th class="buttons" colspan=1>
			<input type="button" value="Ok" onClick="return check_valid(this)" />
		</th>
		<th class="buttons" colspan=3>
			
			<input type="button" value="Cancel" onClick="return back()" />
		</th>
	</tr>


</table>
</form>

</body>
</html>
