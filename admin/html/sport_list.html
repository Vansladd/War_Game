<html>
<!-- $Id: sport_list.html,v 1.1.1.1 2011/10/04 10:54:26 xbourgui Exp $ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=##TP_CHARSET##">
<link rel="stylesheet" type="text/css" href="##TP_CGI_URL##?action=stylesheet">
<title>Sports</title>
##TP_PLAY JS_WriteSelect.html##
<script type="text/javascript">
function fs(b,t)
{
	b.disabled = true;

        if (b.tagName == 'INPUT') {
                /* Only set value to Busy if it's an input button */
                b.value = "Busy...";
        }

	b.form.SubmitName.value=t;

	if (t == 'GoToView' ) {
		// Override sport_view with the one selected in the dropdown
		b.form.sport_view.value = b.form.go_sport_view.value;
	}

	b.form.submit();
	return true;
}

function delete_sports(b) {

	numDelBoxes = b.form.delBoxes.length ;
	delSportList = "" ;

	if (!numDelBoxes ) {
		// We only have 1 entry, the delBoxes.length check picks up nothing
		// so access the one field manually
		if ( b.form.delBoxes.checked ) {
			delSportList = delSportList + b.form.delBoxes.value ;
		}
	} else {
		// deal with multiple check boxes
		for (i = 0; i < numDelBoxes; i++) {
			if ( b.form.delBoxes[i].checked ) {
				delSportList = delSportList + b.form.delBoxes[i].value + "," ;
			}
		}
	}

	if ( delSportList == "" ) {
		alert ("There are no sports selected for delete.") ;
	} else {
		action = "ADMIN::SPORT::DelSport&delSportList=" + delSportList ;

		url = "##TP_CGI_URL##?action=" + action
		document.location.href = url
	}
}

</script>



</head>
<body>
##TP_PLAY error_rpt.html##

<form name="sport_view_list" action="##TP_CGI_URL##" method="get">

<br/>

<table border="0" cellspacing="0" cellpadding="3" bgcolor="#10137c">
<input type="hidden" name="SubmitName" value="">
<input type="hidden" name="action" value="ADMIN::SPORT::DoSport">
<input type="hidden" name="sport_view" value=""/>
<tr>
	<th class="title" >
	Sports
	</th>
	<th class="title" colspan="3">
		Edit View Specific Settings
		<select name="go_sport_view" onChange="fs(this,'GoToView');">
			<option value="">Select View</option>
			##TP_LOOP view_idx {[tpGetVar NumViews]}##
				<option value="##TP_ViewId##" ##TP_ViewSel##>##TP_ViewName##</option>
			##TP_ENDLOOP##
		</select>
	</th>
</tr>
##TP_IF {[tpGetVar NumSports 0]}##
<tr>
	<th class="colhead"><a href="##TP_CGI_URL##?action=ADMIN::SPORT::GoSportList">Sport</A></th>
	<th class="colhead"><a href="##TP_CGI_URL##?action=ADMIN::SPORT::GoSportList&order=y">Category</A></th>
	<th class="colhead"><a href="##TP_CGI_URL##?action=ADMIN::SPORT::GoSportList&order=c">Class</A></th>

	##TP_IF {[OT_CfgGet FUNC_MENU_SPORTS 0] && [op_allowed ManageSport]}##
		<th class="colhead">Select to delete</th>
	##TP_ENDIF##
</tr>
##TP_LOOP sport_idx {[tpGetVar NumSports]}##

<tr>
	<td><a href="##TP_CGI_URL##?action=ADMIN::SPORT::GoSport&SportId=##TP_sportId##&SportName=##TP_sportName##&SportDDLevel=##TP_sportDDLevel##&SportObLevel=##TP_sportObLevel##&SportObId=##TP_sportObId##">##TP_sportName##</A></td>
	<td > ##TP_sportCat##</td>
	<td > ##TP_sportClass##</td>

	##TP_IF {[OT_CfgGet FUNC_MENU_SPORTS 0] && [op_allowed ManageSport]}##
		<td > <input  name="delBoxes" type="checkbox" value = "##TP_sportId##"  > </td>
	##TP_ENDIF##

</tr>
##TP_ENDLOOP##

##TP_IF {[OT_CfgGet FUNC_MENU_SPORTS 0] && [op_allowed ManageSport]}##
<tr>


		##TP_IF {[tpGetVar NumSports 0]}##
			<th class="buttons" colspan="2">
				<input type="button" class="btn_def" value="Add" onClick="return fs(this,'GotoAdd')">
			</th>
			<th class="buttons" colspan="2">
				<input type="button" class="btn_def" value="Delete" onClick="delete_sports(this)">
			</th>
		##TP_ELSE##
			<th class="buttons" colspan="6">
				<input type="button" class="btn_def" value="Add" onClick="return fs(this,'GotoAdd')">
			</th>
		##TP_ENDIF##
</tr>

##TP_ENDIF##

##TP_ELSE##
<tr>
	<td colspan="3">
	<b><i>There are no event sports defined</i></b>
	</td>
</tr>

	##TP_IF {[OT_CfgGet FUNC_MENU_SPORTS 0] && [op_allowed ManageSport]}##
	<tr>
		<th class="buttons" colspan="6">
			<input type="button" class="btn_def" value="Add" onClick="return fs(this,'GotoAdd')">
		</th>
	</tr>
	##TP_ENDIF##

##TP_ENDIF##

</form>
</table>

##TP_PLAY menu_item_list.html##

</body>
</html>
