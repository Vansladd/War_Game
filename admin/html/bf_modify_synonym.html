<html>
<!-- $Id: bf_modify_synonym.html,v 1.1.1.1 2011/10/04 10:54:25 xbourgui Exp $ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=##TP_CHARSET##">
<link rel="stylesheet" type="text/css" href="##TP_CGI_URL##?action=stylesheet">
<title>Synonyms</title>

<script language=JavaScript>

function fs(b,t)
{
	if (t == "DoUpdSyn" || t=="DelSyn") {

		var len=b.form.SyntoUpd.length;
		var selected=0;
		if (len > 0) {
			for (var i=0; i<len; i++) {
				if ( b.form.SyntoUpd[i].checked == true) {
					selected=1;
					break;
				}
			}
		} else {
			if ( b.form.SyntoUpd.checked == true) { selected=1; }
		}
		if (selected  == 0) {
			alert("Please select a synonym to proceed!");
			return false;
		}
	}
	if (t == "DoAddSyntoGrp")
        {
                if (b.form.SynName.value.search('%') != -1)
                {
                        alert(b.form.SynName.value +": % character is not allowed!");
                        return false;
                }
                if (b.form.SynName.value == "")
                {
                        alert ("Enter a valid Synonym!");
                        return false;
                }
        }


        b.disabled = true;
	b.value = "Busy...";
	b.form.SubmitName.value=t;
	b.form.submit();
	return true;
}

function enableInputBox(id, box) {
		
	var el_id = "ID_"+id;
	document.getElementById(el_id).disabled = !box.checked;
}

</script>

</head>

<body>
##TP_PLAY error_rpt.html##

##TP_IF {[tpGetVar SynAdded 0]}##
	<h3 class="succeeded">New Synonym Added to a new group</h3>
##TP_ENDIF##

##TP_IF {[tpGetVar SynUpdated 0]}##
	<h3 class="succeeded">Synonym Updated to the existing group</h3>
##TP_ENDIF##

##TP_IF {[tpGetVar SynDeleted 0]}##
        <h3 class="succeeded">Synonym Deleted Sucessfully</h3>
##TP_ENDIF##

##TP_IF {[tpGetVar SynExists 0]}##
	<h3 class="failed">Synonym already exists</h3>
##TP_ENDIF##

<form action="##TP_CGI_URL##" method=get>
<table border=0 cellspacing=0 cellpadding=3 width="30%">
	<tr>
		<th colspan=2 class=title>
			Modify Synonym Group
		</th>
	</tr>
	<tr>
		<td align="right" width="20%" class=caption>
			<b> Modify or Delete Synonym</b>
		</td>
		<td width="80%">
			##TP_IF {[tpBindGet Nrows] == 0}##
				<h3 class="succeeded">No Synonyms Found</h3>
			##TP_ELSE##
				##TP_LOOP grp_idx $SYNONYMS(nrows)##
					<p>
						<input type=checkbox name="SyntoUpd" value="##TP_SynDescr##" onChange="javascript:enableInputBox('##TP_SynDescr##', this)">
						<input name="UPD_##TP_SynDescr##" id="ID_##TP_SynDescr##" type="text" disabled="true" value="##TP_SynDescr##" />
					</p>
				##TP_ENDLOOP##
			##TP_ENDIF##
			</p>
			<p>
				<input type=button class="btn_def" value="Update" onClick="return fs(this,'DoUpdSyn')">
                        	&nbsp;&nbsp;<input type=button class="btn_def" value="Delete" onClick="return fs(this,'DelSyn')">
			</p>
		</td>
	</tr>
	<tr>
		<td align="right" width="20%" class=caption>
			<b> Add to Group</b>
		</td>
		<td style="line-height: 350%;">
			<input name="SynName" type="text" />
			&nbsp;&nbsp;<input type=button class="btn_def" value="Add" onClick="return fs(this,'DoAddSyntoGrp');">
		</td>
        </tr>
	<tr>
		<th class=buttons colspan=2>
			&nbsp;<input type=button class="btn_def" value="Back" onclick="return fs(this,'Back');">
		</th>
	</tr>
</table>

<input type=hidden name="SynGrpSelId" value=##TP_SynGrpSelId##>
<input type=hidden name="SynType" value=##TP_SynType##>
<input type=hidden name=SubmitName value="">
<input type=hidden name=action value=ADMIN::BETFAIR_SYN::DoBFSynonym>
</form>
</body>

</html>

