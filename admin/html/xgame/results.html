<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
  <head>
    <title>Enter Results for ##TP_NAME##</title>
	<link rel="stylesheet" type="text/css" href="##TP_CGI_URL##?action=stylesheet">

<script language="JavaScript">
function confirmResults() {
	var resultChks = new Array(0);
	var bonusChks = new Array(0);
	var numChks = ##TP_TCL {tpBufWrite [tpGetVar NUM_MAX 0]}##;
	var countChks = 0;
	for (var i = 1; i <= numChks; i++) {
		if (document.getElementById("results" + i).checked) {
			countChks++;
			resultChks[resultChks.length] = i;
		}
		##TP_IF {[tpGetVar BONUS_BALL 0] == 1}##
		if (document.getElementById("bonus" + i).checked) {
			bonusChks[bonusChks.length] = i;
		}
		##TP_ENDIF##
	}
	if (countChks != ##TP_TCL {tpBufWrite [tpGetVar NUM_RESULTS_MIN 0]}##) {
		alert(countChks + " results have been entered. You need to enter ##TP_TCL {tpBufWrite [tpGetVar NUM_RESULTS_MIN 0]}##.");
		return false;
	}
	var msg = "Are these results correct? " + resultChks;
	##TP_IF {[tpGetVar BONUS_BALL 0] == 1}##
	msg += " (bonus " + bonusChks + ")";
	##TP_ENDIF##
	var ok = confirm(msg);
	return ok;
}
</script>
  </head>

  <body bgcolor=white>
    <form action="##TP_CGI_URL##" id="resultsForm" onSubmit="return confirmResults();">
	<input type=hidden name=action value="DoEditResults">
	<input type=hidden name=xgame_id value="##TP_XGAME_ID##">
	<input type=hidden name=SORT value="##TP_SORT##">
	<input type=hidden name=NUM_MAX value="##TP_NUM_MAX##">
	<input type=hidden name=NUM_RESULTS_MIN value="##TP_NUM_RESULTS_MIN##">
	<input type=hidden name=NUM_RESULTS_MAX value="##TP_NUM_RESULTS_MAX##">
        ##TP_FINAL4_DOT##

<table bgcolor="#cccccc" cellpadding="2" cellspacing="1" border="1">
<tr bgcolor=#10137c>
	##TP_IF {[tpGetVar BONUS_BALL 0] == 1}##<th colspan=4>##TP_ELSE##<th colspan=2>##TP_ENDIF##<font color=white size=+1>Enter results: ##TP_NAME##, competition ##TP_COMP_NO##</font></th>
</tr>
<tr bgcolor=#10137c>
	##TP_IF {[tpGetVar BONUS_BALL 0] == 1}##<th colspan=4>##TP_ELSE##<th colspan=2>##TP_ENDIF##<font color=white size=+1>draw time ##TP_DRAW_AT##. ##TP_IF {[tpGetVar SORT ""]=="EFINAL4"}##<p>Select two teams marked * and two teams marked without.</p>##TP_ENDIF##</font></th>
</tr>
<tr bgcolor=#999999>
	<th align="right">No.</th>
	<th align="left" width="230">Chosen?</th>
	##TP_IF {[tpGetVar BONUS_BALL] == 1}##
	<th align="left">No.</th>
	<th align="left">Bonus Ball?</th>
	##TP_ENDIF##
</tr>

	##TP_TCL {tpBufWrite [tpGetVar "ballname_[expr "[tpGetVar i]+1"]"]}##
	</td>

##TP_LOOP i {[tpGetVar NUM_MAX]}##
<tr>
	<td style="text-align:right;">##TP_TCL {tpBufWrite [expr "[tpGetVar i]+1"]}##.</td>
	<td>
		<input type=checkbox name="results" id="results##TP_TCL {tpBufWrite [expr "[tpGetVar i]+1"]}##" value=##TP_TCL {tpBufWrite [expr "[tpGetVar i]+1"]}## ##TP_TCL {tpBufWrite [tpGetVar "checked_[expr "[tpGetVar i]+1"]"]}##>
	##TP_TCL {tpBufWrite [tpGetVar "ballname_[expr "[tpGetVar i]+1"]"]}##
	</td>
##TP_IF {[tpGetVar BONUS_BALL] == 1}##
<!-- Include bonus ball column -->
	<td style="align:right;">##TP_TCL {tpBufWrite [expr "[tpGetVar i]+1"]}##.</td>
	<td>
		<input type=checkbox name="bonus_result" id="bonus_result##TP_TCL {tpBufWrite [expr "[tpGetVar i]+1"]}##" value=##TP_TCL {tpBufWrite [expr "[tpGetVar i]+1"]}## ##TP_TCL {tpBufWrite [tpGetVar "checked_bonus_[expr "[tpGetVar i]+1"]"]}##>
	##TP_TCL {tpBufWrite [tpGetVar "ballname_[expr "[tpGetVar i]+1"]"]}##
	</td>
##TP_ENDIF##
</tr>
##TP_ENDLOOP##

<tr bgcolor=#10137c><td colspan=2><input type=submit class="btn_def" value="Submit Results"></td></tr>
</table>
    </form>
  </body>
</html>
