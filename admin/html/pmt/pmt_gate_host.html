<html>
<!-- $Id: pmt_gate_host.html,v 1.1.1.1 2011/10/04 10:54:26 xbourgui Exp $ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=##TP_CHARSET##">
<link rel="stylesheet" type="text/css" href="##TP_CGI_URL##?action=stylesheet">
<title>Payment Gateways</title>
##TP_PLAY JS_WriteSelect.html##
<script language=JavaScript>
function wr_tr(def) {
		if (def=='Y') {
			document.write('<tr class=active>');
		} else  {
			document.write('<tr class=suspended>');
		}
}
function confirm_switch(f,type,name) {
	if (confirm("You are about to change the default payment gateway\nfor all " + type + " payments to\n\n    " + name.value + "\n\nThis change will take effect immediately.\n\nDo you wish to Continue?")) {
		f.SubmitName.value='Switch';
		f.submit();
		return true;
	}
}
</script>
</head>
<body>
##TP_PLAY error_rpt.html##
##TP_PLAY msg_rpt.html##
##TP_IF {[OT_CfgGet SWITCH_DEFAULT_PMT_GATE_ACCT 0]}##
<table cellspacing=0 cellpadding=2 border=0>
	<form name="PgAcct_form" action="##TP_CGI_URL##" method="post">
	<input type="hidden" name="action" value="ADMIN::PMT::DoUpdatePmtGateAcct">
	<input type="hidden" name="SubmitName" value="">
	<input type="hidden" name="CurrentPgAcctSelection" value="##TP_CurrentPGAcctName##">
	<tr>
		<th colspan=8 class=title>
		Payment Gateway Merchant Accounts
		</th>
	</tr>
	<tr>
		<th nowrap class=colhead>Name</th>
		<th nowrap class=colhead>Type</th>
		<th nowrap class=colhead>Version</th>
		<th nowrap class=colhead>Default</th>
		<th nowrap class=colhead>Switch</th>
	</tr>
	##TP_LOOP pga_idx {[tpGetVar NumPGAccts]}##
	<script>wr_tr('##TP_PgAcctDefault##')</script>
		<td nowrap>##TP_PgAcctDesc##</td>
		<td nowrap>##TP_PgAcctType##</td>
		<td nowrap>##TP_PgAcctVersion##</td>
		<td nowrap>##TP_PgAcctDefault##</td>
		<td nowrap><input type=radio name="new_pg_acct_id" value="##TP_PgAcctId##" ##TP_PgAcctChecked## onClick="javascript:(this.form).CurrentPgAcctSelection.value='##TP_PgAcctDesc##';"></td>
	</tr>
	##TP_ENDLOOP##
	<tr>
		<th colspan=8 class="buttons">
			<input type=button class="btn_def" value="Set Default Account" onClick="return confirm_switch(PgAcct_form,'Credit Card',document.PgAcct_form.CurrentPgAcctSelection)">
		</th>
	</tr>
	</form>
</table>
<br>
##TP_ENDIF##
##TP_IF {[OT_CfgGet SWITCH_DEFAULT_PMT_GATE_HOST 1]}##
<table cellspacing=0 cellpadding=2 border=0>

	<tr>
		<th colspan=8 class=title>
		Payment Gateway Hosts
		</th>
	</tr>
	<tr>
		<th nowrap class=colhead>Name</th>
		<th nowrap class=colhead>Type</th>
		<th nowrap class=colhead>IP</th>
		<th nowrap class=colhead>Port</th>
		<th nowrap class=colhead>Response Timeout</th>
		<th nowrap class=colhead>Connection Timeout</th>
		<th nowrap class=colhead>Default</th>
		<th nowrap class=colhead>Switch</th>
	</tr>
	##TP_LOOP type_idx {[tpGetVar NumPGTypes]}##
	<form name="##TP_PgHostType##_form" action="##TP_CGI_URL##" method="post">
	<input type="hidden" name="action" value="ADMIN::PMT::DoUpdatePmtGateHost">
	<input type="hidden" name="SubmitName" value="">
	<input type="hidden" name="PgHostType" value="##TP_PgHostType##">
	<input type="hidden" name="CurrentSelection" value="##TP_CurrentPGHostName##">
    ##TP_LOOP pgh_idx {$PG_HOSTS([tpGetVar type_idx],num_pgs)}##
	<script>wr_tr('##TP_Default##')</script>
		<td nowrap>##TP_Desc##</td>
		<td nowrap>##TP_PgHostType##</td>
		<td nowrap>##TP_PgHostIP##</td>
		<td nowrap>##TP_PgHostPort##</td>
		<td nowrap>##TP_RespTimeout##  (ms)</td>
		<td nowrap>##TP_ConnTimeout##  (ms)</td>
		<td nowrap>##TP_Default##</td>
		<td nowrap><input type=radio name="new_pg_host_id" value="##TP_PgHostId##" ##TP_Checked## onClick="javascript:(this.form).CurrentSelection.value='##TP_Desc##';"></td>
	</tr>
	##TP_ENDLOOP##
	<tr>
		<th colspan=8 class="buttons">
			<input type=button class="btn_def" value="Set Default ##TP_PgHostType## Host" onClick="return confirm_switch(##TP_PgHostType##_form,'##TP_PgHostType##',document.##TP_PgHostType##_form.CurrentSelection)">
		</th>
	</tr>
	</form>
	##TP_ENDLOOP##
</table>
<br>
##TP_ENDIF##

##TP_IF { [OT_CfgGet DISPLAY_PMT_GATE_RULES 1] }##

<table cellspacing=0 cellpadding=2 border=0>

	<tr>
		<th colspan=8 class=title>
		Payment Rules
		</th>
	</tr>
	<tr>
		<th nowrap class=colhead>Priority</th>
		<th nowrap class=colhead>Rule</th>
		<th nowrap class=colhead></th>
		<th nowrap class=colhead>Outcome</th>
		<th nowrap class=colhead></th>
	</tr>
	##TP_LOOP pgr_idx {[tpGetVar NumPCs]}##
		<td nowrap>##TP_Priority##</td>
		<td nowrap align>##TP_ConditionDesc##</td>
		<td nowrap> =====>  </td>
		<td nowrap><I>Type</I></td><td>##TP_Type##</td>
		</tr>
		<tr>
		<td nowrap colspan = 3></td><td nowrap><I>Merchant Acct</I></td><td nowrap>##TP_PmtGateAcctDesc##</td>
		</tr>
		<tr>
		<td nowrap colspan = 3></td><td nowrap><I>Gateway Host</I></td><td nowrap>##TP_PmtGateHostDesc##</td>
		</tr>
		<tr>
		<td nowrap colspan = 3></td><td nowrap><I>Sort</I></td><td nowrap>##TP_CPFlag##</td>
	</tr>
	##TP_ENDLOOP##
</table>

##TP_ENDIF##

</body>

</html>
