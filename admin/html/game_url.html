<html>
<!-- $Id: game_url.html,v 1.1.1.1 2011/10/04 10:54:25 xbourgui Exp $ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=##TP_CHARSET##"\>
<link rel="stylesheet" type="text/css" href="##TP_CGI_URL##?action=stylesheet">
<title>Add/Modify Game URL</title>
<script language="Javascript">
function validate(f,t)
{

	var b = document.forms[0];

	var name = b.GameName.value;
	var url = b.GameURL.value;

	var err = "";

	##TP_IF {[tpGetVar opAdd 0]}##
	var code = b.GameCode.value;

	if (code.length > 4) {
		err += "Game code must be 4 characters or less.\n";
	}
	##TP_ENDIF##

	if (name.length > 50) {
		err += "Name must be 50 characters or less.\n";
	}

	if (url.length > 255) {
		err += "URL must be 255 characters or less.\n";
	}

	if (err != "") {
		alert(err);
	} else {
		fs(f,t);
	}
}

function fs(b,t)
{
	if (t == "Del") {
		if (!confirm("Are you sure you want to delete ##TP_GameCode##?")) {
			return false;
		}
	}
	b.disabled = true;
	b.value = "Busy...";
	b.form.SubmitName.value=t;
	b.form.submit();
	return true;
}
</script>
</head>
<body>

##TP_IF {[tpGetVar GameURLAdded 0]}##
	<h3><font color=green>New Game URL Added</font></h3>
##TP_ENDIF##

##TP_IF {[tpGetVar GameURLUpdated 0]}##
	<h3><font color=green>Game URL Updated</font></h3>
##TP_ENDIF##


##TP_PLAY error_rpt.html##
<table border=0 cellspaceing=0 cellpadding=3>
	<tr>
		<th colspan=2 class=title>##TP_GameCode## Game Details</th>
	</tr>
	<form ACTION="##TP_CGI_URL##" method=get>
		<tr>
			<td class=caption>Game Code</td>
			<td>
				<input type="text" name="GameCode" value="##TP_GameCode##" size=4>
			</td>
		</tr>
		<tr>
			<td class=caption>Name</td>
			<td>
				<input type="text" name="GameName" value="##TP_GameName##" size=50>
			</td>
		</tr>
		<tr>
			<td class=caption>URL</td>
			<td>
				<input type="text" name="GameURL" value="##TP_GameURL##" size=60>
			</td>
		</tr>
		<tr>
			<th colspan=2 class=buttons>
			##TP_IF {[tpGetVar opAdd 0]}##
				<input type=button class="btn_def" value="Add Game URL" onClick="validate(this,'Add');">
			##TP_ELSE##
				<input type=hidden name="GameCodeId" value="##TP_GameCodeId##">
				<input type=button class="btn_def" value="Modify Game URL" onClick="validate(this,'Mod');">
				<input type=button class="btn_def" value="Delete Game URL" onClick="fs(this,'Del');">
				##TP_IF {[tpGetVar PERM_ViewAudit 0]}##
					<input type="button" class="btn_def" value="View Audit History" onClick="return fs(this,'GoAudit')">
					<input type="hidden" name="AuditInfo" value="GameURL">
				##TP_ENDIF##
			##TP_ENDIF##
				<input type=button class="btn_def" value="Back" onclick="fs(this, 'Back');">
				<input type=hidden name=SubmitName value="">
				<input type=hidden name=action value="ADMIN::GAMEURLS::DoGameURL">
			</th>
		</tr>
	</form>
</table>
</body>
</html>
