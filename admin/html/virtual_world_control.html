<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=##TP_CHARSET##">
		<link rel="stylesheet" type="text/css" href="##TP_CGI_URL##?action=stylesheet">
		<title>Virtual World Settings</title>

		<script>
			function check_rb() {

				formObject = document.getElementById("formVirtualWorldSettings");
				chosen = 0;
				len = formObject.is_highlight.length;

				for (i = 0; i <len; i++) {
					if (formObject.is_highlight[i].checked) {
						chosen = 1;
					}
				}

				if (chosen == 0) {
					formObject.is_highlight[0].checked = true;
				}
			}


			function fs(b)
			{
				b.disabled = true;
				b.value = "Busy...";
				document.getElementById("formVirtualWorldSettings").submit();
				return true;
			}


			function doAudit(b,audit_id) {
				formObject = document.getElementById("formVirtualWorldSettings");

				formObject.VrtlWrldAuditId.value = audit_id;
				formObject.action.value = "ADMIN::AUDIT::GoAudit";
				return fs(b);
			}

			</script>
	</head>

	<body onload="check_rb();">
	    <form id="formVirtualWorldSettings" action="##TP_CGI_URL##" method="get">
		<input type="hidden" id="action" name="action" value="ADMIN::VIRTUALWORLD::DoVirtualWorldControl"/>
		<input type="hidden" id="VrtlWrldAuditId" name="VrtlWrldAuditId" value=""/>
		<input type="hidden" id="AuditInfo" name="AuditInfo" value="VirtualWrld"/>

		##TP_PLAY error_rpt.html##
		<table>
			<tr>
				<th colspan=6 class=title>
					Virtual Racing Settings
				</th>
			</tr>

			<tr>
				<th nowrap class=colhead>
					Sport
				</th>
				<th nowrap class=colhead>
					Display X Races
				</th>
				<th nowrap class=colhead>
					Virtual HP Default Sport
				</th>
				<th nowrap class=colhead>
					&nbsp;
				</th>
			</tr>

			##TP_LOOP virtual_world_idx {[tpGetVar nrowsVW]}##
			<tr>

				<td>
					##TP_desc##
				</td>
				<td>
					<input type="text" name="##TP_vw_id##numRaces" value="##TP_numRaces##" ##TP_readOnlyNumRaces##/>
				</td>
				<td>
				##TP_IF {[tpBindGet desc] != "HOME"}##
					<input type="radio" name="is_highlight" value="##TP_vw_id##isHighlight" ##TP_IF {[tpBindGet isHighlight] == "Y"}## checked ##TP_ENDIF##> <br>
				##TP_ENDIF##
				</td>
				<td>
					<input type=button class="btn_def" id="##TP_vw_id##" value="View Audit" onClick="return doAudit(this, this.id)">
				</td>
				<input type="hidden" name="##TP_vw_id##disporder" value="0"/>
			</tr>
			##TP_ENDLOOP##

			##TP_IF {[tpGetVar nrowsVW 0]==0}##
			<tr>
				<td colspan="5">
					<b><i>There are no virtual races defined</i></b>
				</td>
			</tr>
			##TP_ENDIF##

			<tr>
				<td colspan=5 align="center"><input type="button" class="btn_def" id="Update" value="Update" onClick="return fs(this.id)" /></td>
			</tr>
		</table>
	    </form>
	</body>
</html>
